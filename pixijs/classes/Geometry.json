{
  "type": "class",
  "name": "Geometry",
  "sourcePath": "rendering/renderers/shared/geometry/Geometry.ts",
  "extends": "EventEmitter",
  "implements": [],
  "description": "The index buffer array type used in geometries. / export type IndexBufferArray = Uint16Array | Uint32Array; /** The attribute data for a geometries attributes / export interface Attribute { /** the buffer that this attributes data belongs to */ buffer: Buffer; /** the format of the attribute */ format?: VertexFormat; /** the stride of the data in the buffer - in bytes*/ stride?: number; /** the offset of the attribute from the buffer, defaults to 0 - in bytes*/ offset?: number; /** is this an instanced buffer? (defaults to false) */ instance?: boolean; /** the number of elements to be rendered. If not specified, all vertices after the starting vertex will be drawn. */ size?: number; /** the starting vertex in the geometry to start drawing from. If not specified, drawing will start from the first vertex. / start?: number; /** attribute divisor for instanced rendering. Note: this is a **WebGL-only** feature, the WebGPU renderer will issue a warning if one of the attributes has divisor set. / divisor?: number; } /** The attribute option used by the constructor for adding geometries attributes extends {@link Attribute} but allows for the buffer to be a typed or number array / export type AttributeOption = Omit<Attribute, 'buffer'> & { buffer: Buffer | TypedArray | number[]} | Buffer | TypedArray | number[]; /** The attribute options used by the constructor for adding geometries attributes extends {@link Attribute} but allows for the buffer to be a typed or number array / export type AttributeOptions = Record<string, AttributeOption>; /** the interface that describes the structure of the geometry / export interface GeometryDescriptor { /** an optional label to easily identify the geometry */ label?: string; /** the attributes that make up the geometry */ attributes?: AttributeOptions; /** optional index buffer for this geometry */ indexBuffer?: Buffer | TypedArray | number[]; /** the topology of the geometry, defaults to 'triangle-list' */ topology?: Topology; instanceCount?: number; } function ensureIsAttribute(attribute: AttributeOption): Attribute { if (attribute instanceof Buffer || Array.isArray(attribute) || (attribute as TypedArray).BYTES_PER_ELEMENT) { attribute = { buffer: attribute as Buffer | TypedArray | number[], }; } (attribute as Attribute).buffer = ensureIsBuffer(attribute.buffer as Buffer | TypedArray | number[], false); return attribute as Attribute; } /** A Geometry is a low-level object that represents the structure of 2D shapes in terms of vertices and attributes. It's a crucial component for rendering as it describes the shape and format of the data that will go through the shaders. Essentially, a Geometry object holds the data you'd send to a GPU buffer. A geometry is basically made of two components: <br> <b>Attributes</b>: These are essentially arrays that define properties of the vertices like position, color, texture coordinates, etc. They map directly to attributes in your vertex shaders. <br> <b>Indices</b>: An optional array that describes how the vertices are connected. If not provided, vertices will be interpreted in the sequence they're given. const geometry = new Geometry({ attributes: { aPosition: [ // add some positions 0, 0, 0, 100, 100, 100, 100,   0, ], aUv: [ // add some uvs 0, 0, 0, 1, 1, 1, 1, 0, ] } });",
  "category": "rendering",
  "deprecated": false,
  "methods": [
    {
      "name": "super",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "attributes",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "for",
      "params": [
        {
          "name": "const i in attributes",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "addAttribute",
      "params": [
        {
          "name": "i",
          "type": null
        },
        {
          "name": "attributes[i]",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "indexBuffer",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "addIndex",
      "params": [
        {
          "name": "indexBuffer",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "onBufferUpdate",
      "params": [],
      "returnType": "void",
      "description": null
    },
    {
      "name": "emit",
      "params": [
        {
          "name": "'update'",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "getAttribute",
      "params": [
        {
          "name": "id",
          "type": "string",
          "optional": false,
          "default": null
        }
      ],
      "returnType": "Attribute",
      "description": "Returns the requested attribute."
    },
    {
      "name": "getIndex",
      "params": [],
      "returnType": "Buffer",
      "description": "Returns the index buffer"
    },
    {
      "name": "getBuffer",
      "params": [
        {
          "name": "id",
          "type": "string",
          "optional": false,
          "default": null
        }
      ],
      "returnType": "Buffer",
      "description": "Returns the requested buffer."
    },
    {
      "name": "getAttribute",
      "params": [
        {
          "name": "id",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "getSize",
      "params": [],
      "returnType": "number",
      "description": "Used to figure out how many vertices there are in this geometry"
    },
    {
      "name": "for",
      "params": [
        {
          "name": "const i in this.attributes",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "return",
      "params": [
        {
          "name": "buffer.data as any",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "addAttribute",
      "params": [
        {
          "name": "name",
          "type": "string",
          "optional": false,
          "default": null
        },
        {
          "name": "attributeOption",
          "type": "AttributeOption",
          "optional": false,
          "default": null
        }
      ],
      "returnType": "void",
      "description": "Adds an attribute to the geometry."
    },
    {
      "name": "ensureIsAttribute",
      "params": [
        {
          "name": "attributeOption",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "indexOf",
      "params": [
        {
          "name": "attribute.buffer",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "bufferIndex === -1",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "push",
      "params": [
        {
          "name": "attribute.buffer",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "resize",
      "params": [
        {
          "name": "new buffer change",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "update",
      "params": [
        {
          "name": "existing buffer change",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "on",
      "params": [
        {
          "name": "'update'",
          "type": null
        },
        {
          "name": "this.onBufferUpdate",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "on",
      "params": [
        {
          "name": "'change'",
          "type": null
        },
        {
          "name": "this.onBufferUpdate",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "addIndex",
      "params": [
        {
          "name": "indexBuffer",
          "type": "Buffer | TypedArray | number[]",
          "optional": false,
          "default": null
        }
      ],
      "returnType": "void",
      "description": "Adds an index buffer to the geometry."
    },
    {
      "name": "ensureIsBuffer",
      "params": [
        {
          "name": "indexBuffer",
          "type": null
        },
        {
          "name": "true",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "push",
      "params": [
        {
          "name": "this.indexBuffer",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "destroy",
      "params": [
        {
          "name": "destroyBuffers = false",
          "type": null
        }
      ],
      "returnType": "void",
      "description": "Returns the bounds of the geometry. */ get bounds(): Bounds { if (!this._boundsDirty) return this._bounds; this._boundsDirty = false; return getGeometryBounds(this, 'aPosition', this._bounds); } /** destroys the geometry."
    },
    {
      "name": "emit",
      "params": [
        {
          "name": "'destroy'",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeAllListeners",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "destroyBuffers",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "forEach",
      "params": [
        {
          "name": "(buffer",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "destroy",
      "params": [],
      "returnType": null,
      "description": null
    }
  ],
  "properties": [
    {
      "name": "bounds",
      "type": "Bounds",
      "description": "Returns the bounds of the geometry."
    }
  ]
}