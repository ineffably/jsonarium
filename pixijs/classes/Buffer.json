{
  "type": "class",
  "name": "Buffer",
  "sourcePath": "rendering/renderers/shared/buffer/Buffer.ts",
  "extends": "EventEmitter",
  "implements": [],
  "description": "All the various typed arrays that exist in js / // eslint-disable-next-line max-len export type TypedArray = Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array | Uint8ClampedArray | Float32Array | Float64Array; /** Options for creating a buffer This interface defines the options that can be passed to the Buffer constructor. It includes the data to initialize the buffer with, the size of the buffer, the usage of the buffer, a label for debugging, and whether the buffer should shrink to fit when the data becomes smaller. / export interface BufferOptions { /** the data to initialize the buffer with, this can be a typed array, or a regular number array. If it is a number array, it will be converted to a Float32Array / data?: TypedArray | number[]; /** the size of the buffer in bytes, if not supplied, it will be inferred from the data */ size?: number; /** the usage of the buffer, see {@link BufferUsage} */ usage: number; /** a label for the buffer, this is useful for debugging */ label?: string; /** should the GPU buffer be shrunk when the data becomes smaller? changing this will cause the buffer to be destroyed and a new one created on the GPU this can be expensive, especially if the buffer is already big enough! setting this to false will prevent the buffer from being shrunk. This will yield better performance if you are constantly setting data that is changing size often. / shrinkToFit?: boolean; } /** @internal */ export interface BufferDescriptor { label?: string; size: GPUSize64; usage: BufferUsage; mappedAtCreation?: boolean; } /** A wrapper for a WebGPU/WebGL Buffer. In PixiJS, the Buffer class is used to manage the data that is sent to the GPU rendering pipeline. It abstracts away the underlying GPU buffer and provides an interface for uploading typed arrays or other data to the GPU, They are used in the following places: <br><br> .1. {@link Geometry} as attribute data or index data for geometry <br> .2. {@link UniformGroup} as an underlying buffer for uniform data <br> .3. {@link BufferResource} as an underlying part of a buffer used directly by the GPU program <br> It is important to note that you must provide a usage type when creating a buffer. This is because the underlying GPU buffer needs to know how it will be used. For example, if you are creating a buffer to hold vertex data, you would use `BufferUsage.VERTEX`. This will tell the GPU that this buffer will be used as a vertex buffer. This is important because it will affect how you can use the buffer. Buffers are updated by calling the {@link Buffer.update} method. This immediately updates the buffer on the GPU. Be mindful of calling this more often than you need to. It is recommended to update buffers only when needed. In WebGPU, a GPU buffer cannot resized. This limitation is abstracted away, but know that resizing a buffer means creating a brand new one and destroying the old, so it is best to limit this if possible. const buffer = new Buffer({ data: new Float32Array([1, 2, 3, 4]), usage: BufferUsage.VERTEX, });",
  "category": "rendering",
  "deprecated": false,
  "methods": [
    {
      "name": "super",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "data instanceof Array",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "Float32Array",
      "params": [
        {
          "name": "data as number[]",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "setDataWithSize",
      "params": [
        {
          "name": "value",
          "type": "TypedArray",
          "optional": false,
          "default": null
        },
        {
          "name": "size",
          "type": "number",
          "optional": false,
          "default": null
        },
        {
          "name": "syncGPU",
          "type": "boolean",
          "optional": false,
          "default": null
        }
      ],
      "returnType": null,
      "description": "the data in the buffer */ get data() { return this._data; } set data(value: TypedArray) { this.setDataWithSize(value, value.length, true); } get dataInt32() { if (!this._dataInt32) { this._dataInt32 = new Int32Array((this.data as any).buffer); } return this._dataInt32; } /** whether the buffer is static or not */ get static() { return !!(this.descriptor.usage & BufferUsage.STATIC); } set static(value: boolean) { if (value) { this.descriptor.usage |= BufferUsage.STATIC; } else { this.descriptor.usage &= ~BufferUsage.STATIC; } } /** Sets the data in the buffer to the given value. This will immediately update the buffer on the GPU. If you only want to update a subset of the buffer, you can pass in the size of the data."
    },
    {
      "name": "if",
      "params": [
        {
          "name": "this._data === value",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "syncGPU",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "emit",
      "params": [
        {
          "name": "'update'",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "!oldData || oldData.length !== value.length",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "!this.shrinkToFit && oldData && value.byteLength < oldData.byteLength",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "syncGPU",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "emit",
      "params": [
        {
          "name": "'update'",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "uid",
      "params": [
        {
          "name": "'resource'",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "emit",
      "params": [
        {
          "name": "'change'",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "syncGPU",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "emit",
      "params": [
        {
          "name": "'update'",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "update",
      "params": [
        {
          "name": "sizeInBytes",
          "type": "number",
          "optional": true,
          "default": null
        }
      ],
      "returnType": "void",
      "description": "updates the buffer on the GPU to reflect the data in the buffer. By default it will update the entire buffer. If you only want to update a subset of the buffer, you can pass in the size of the buffer to update."
    },
    {
      "name": "emit",
      "params": [
        {
          "name": "'update'",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "destroy",
      "params": [],
      "returnType": null,
      "description": "Destroys the buffer"
    },
    {
      "name": "emit",
      "params": [
        {
          "name": "'destroy'",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "emit",
      "params": [
        {
          "name": "'change'",
          "type": null
        },
        {
          "name": "this",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeAllListeners",
      "params": [],
      "returnType": null,
      "description": null
    }
  ],
  "properties": []
}