{
  "type": "class",
  "name": "ParticleContainer",
  "sourcePath": "scene/particle-container/shared/ParticleContainer.ts",
  "extends": "ViewContainer",
  "implements": [],
  "description": "Represents the properties of a particle that can be dynamically updated each frame. These properties control which aspects of particles are recalculated during rendering. Setting a property to true enables per-frame updates, while false only updates when manually triggered. ```ts // Create a particle container with dynamic position and rotation const container = new ParticleContainer({ dynamicProperties: { position: true,  // Update positions each frame rotation: true,  // Update rotations each frame vertex: false,   // Static vertices uvs: false,     // Static texture coordinates color: false     // Static colors } }); // Create a fully dynamic particle container const dynamicContainer = new ParticleContainer({ dynamicProperties: { vertex: true,    // Dynamic mesh deformation position: true,  // Dynamic movement rotation: true,  // Dynamic spinning uvs: true,      // Dynamic texture animation color: true     // Dynamic coloring } }); ``` / export interface ParticleProperties { /** When true, vertex positions are updated each frame. Useful for mesh deformation effects. / vertex?: boolean; /** When true, particle positions are updated each frame. Essential for moving particles. / position?: boolean; /** When true, rotation values are updated each frame. Needed for spinning particles. / rotation?: boolean; /** When true, texture coordinates are updated each frame. Required for texture animation. / uvs?: boolean; /** When true, color values are updated each frame. Enables color transitions and alpha changes. / color?: boolean; } /** Options for configuring a ParticleContainer. Controls how particles are rendered, updated, and managed. ```ts // Create a basic particle container const container = new ParticleContainer({ texture: Texture.from('particle.png'), particles: [ new Particle(texture), new Particle(texture) ], dynamicProperties: { position: true,  // Update positions each frame rotation: true   // Update rotations each frame } }); ``` / export interface ParticleContainerOptions extends PixiMixins.ParticleContainerOptions, Omit<ViewContainerOptions, 'children'> { /** Specifies which particle properties should update each frame. Set properties to true for per-frame updates, false for static values. / dynamicProperties?: ParticleProperties & Record<string, boolean>; /** Custom shader for rendering particles. Allows for custom visual effects. / shader?: Shader; /** When true, particle positions are rounded to the nearest pixel. Helps achieve crisp rendering at the cost of smooth motion. / roundPixels?: boolean; /** The texture used for all particles in this container. If not provided, uses the texture of the first particle added. / texture?: Texture; /** Initial array of particles to add to the container. All particles must share the same base texture. */ particles?: IParticle[]; } // eslint-disable-next-line requireExport/require-export-jsdoc, requireMemberAPI/require-member-api-doc export interface ParticleContainer extends PixiMixins.ParticleContainer, ViewContainer<ParticleBuffer> {} /** The ParticleContainer class is a highly optimized container that can render 1000s or particles at great speed. A ParticleContainer is specialized in that it can only contain and render particles. Particles are lightweight objects that use minimal memory, which helps boost performance. It can render particles EXTREMELY fast! The tradeoff of using a ParticleContainer is that most advanced functionality is unavailable. Particles are simple and cannot have children, filters, masks, etc. They possess only the basic properties: position, scale, rotation, and color. All particles must share the same texture source (using something like a sprite sheet works well here). When creating a ParticleContainer, a developer can specify which of these properties are static and which are dynamic. - Static properties are only updated when you add or remove a child, or when the `update` function is called. - Dynamic properties are updated every frame. It is up to the developer to specify which properties are static and which are dynamic. Generally, the more static properties you have (i.e., those that do not change per frame), the faster the rendering. If the developer modifies the children order or any static properties of the particle, they must call the `update` method. By default, only the `position` property is set to dynamic, which makes rendering very fast! Developers can also provide a custom shader to the particle container, allowing them to render particles in a custom way. To help with performance, the particle containers bounds are not calculated. It's up to the developer to set the boundsArea property. It's extremely easy to use. Below is an example of rendering thousands of sprites at lightning speed. --------- EXPERIMENTAL --------- This is a new API, things may change and it may not work as expected. We want to hear your feedback as we go! -------------------------------- ```ts import { ParticleContainer, Particle } from 'pixi.js'; const container = new ParticleContainer(); for (let i = 0; i < 100; ++i) { let particle = new Particle(texture); container.addParticle(particle); } ```",
  "category": "scene",
  "deprecated": false,
  "methods": [
    {
      "name": "super",
      "params": [
        {
          "name": "label",
          "type": "'ParticleContainer'",
          "optional": false,
          "default": null
        },
        {
          "name": "...rest",
          "type": null
        },
        {
          "name": "}",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "for",
      "params": [
        {
          "name": "const key in particleData",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "addParticle",
      "params": [
        {
          "name": "children",
          "type": "IParticle[]",
          "optional": false,
          "default": null
        }
      ],
      "returnType": "IParticle",
      "description": "Adds one or more particles to the container. The particles will be rendered using the container's shared texture and properties. When adding multiple particles, they must all share the same base texture. ```ts const container = new ParticleContainer(); // Add a single particle const particle = new Particle(Assets.get('particleTexture')); container.addParticle(particle); // Add multiple particles at once const particles = [ new Particle(Assets.get('particleTexture')), new Particle(Assets.get('particleTexture')), new Particle(Assets.get('particleTexture')) ]; container.addParticle(...particles); ```"
    },
    {
      "name": "for",
      "params": [
        {
          "name": "let i = 0; i < children.length; i++",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "push",
      "params": [
        {
          "name": "children[i]",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "onViewUpdate",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeParticle",
      "params": [
        {
          "name": "children",
          "type": "IParticle[]",
          "optional": false,
          "default": null
        }
      ],
      "returnType": "IParticle",
      "description": "Removes one or more particles from the container. The particles must already be children of this container to be removed. ```ts // Remove a single particle container.removeParticle(particle1); // Remove multiple particles at once container.removeParticle(particle2, particle3); ```"
    },
    {
      "name": "for",
      "params": [
        {
          "name": "let i = 0; i < children.length; i++",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "indexOf",
      "params": [
        {
          "name": "children[i] as IParticle",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "index > -1",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "splice",
      "params": [
        {
          "name": "index",
          "type": null
        },
        {
          "name": "1",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "if",
      "params": [
        {
          "name": "didRemove",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "onViewUpdate",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "update",
      "params": [],
      "returnType": null,
      "description": "Updates the particle container's internal state. Call this method after manually modifying the particleChildren array or when changing static properties of particles. ```ts // Batch modify particles container.particleChildren.push(...particles); container.update(); // Required after direct array modification // Update static properties container.particleChildren.forEach(particle => { particle.position.set( Math.random() * 800, Math.random() * 600 ); }); container.update(); // Required after changing static positions ```"
    },
    {
      "name": "onViewUpdate",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "onViewUpdate",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeParticles",
      "params": [
        {
          "name": "beginIndex",
          "type": "number",
          "optional": true,
          "default": null
        },
        {
          "name": "endIndex",
          "type": "number",
          "optional": true,
          "default": null
        }
      ],
      "returnType": null,
      "description": "Returns a static empty bounds object since ParticleContainer does not calculate bounds automatically for performance reasons. Use the `boundsArea` property to manually set container bounds. ```ts const container = new ParticleContainer({ texture: Texture.from('particle.png') }); // Default bounds are empty console.log(container.bounds); // Bounds(0, 0, 0, 0) // Set manual bounds for the particle area container.boundsArea = { minX: 0, minY: 0, maxX: 800, maxY: 600 }; ``` / public get bounds() { return emptyBounds; } /** @private */ protected override updateBounds(): void { /* empty */ } /** Destroys this sprite renderable and optionally its texture. have been set to that value particleContainer.destroy(); particleContainer.destroy(true); particleContainer.destroy({ texture: true, textureSource: true, children: true }); / public override destroy(options: DestroyOptions = false) { super.destroy(options); const destroyTexture = typeof options === 'boolean' ? options : options?.texture; if (destroyTexture) { const destroyTextureSource = typeof options === 'boolean' ? options : options?.textureSource; const texture = this.texture ?? this.particleChildren[0]?.texture; if (texture) { texture.destroy(destroyTextureSource); } } this.texture = null; this.shader?.destroy(); } /** Removes all particles from this container that are within the begin and end indexes."
    },
    {
      "name": "splice",
      "params": [
        {
          "name": "beginIndex",
          "type": null
        },
        {
          "name": "endIndex - beginIndex",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "onViewUpdate",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "splice",
      "params": [
        {
          "name": "index",
          "type": null
        },
        {
          "name": "1",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "onViewUpdate",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "splice",
      "params": [
        {
          "name": "index",
          "type": null
        },
        {
          "name": "0",
          "type": null
        },
        {
          "name": "child",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "onViewUpdate",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "addParticle",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.addChild(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "addParticle",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeParticle",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.removeChild(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeParticle",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeParticles",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeChildren",
      "params": [
        {
          "name": "_beginIndex",
          "type": "number",
          "optional": true,
          "default": null
        },
        {
          "name": "_endIndex",
          "type": "number",
          "optional": true,
          "default": null
        }
      ],
      "returnType": "ContainerChild[]",
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.removeChildren(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeParticles",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeParticleAt",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.removeChildAt(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "removeParticleAt",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "getParticleAt",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.getChildAt(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "getParticleAt",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "setParticleIndex",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "setChildIndex",
      "params": [
        {
          "name": "_child",
          "type": "ContainerChild",
          "optional": false,
          "default": null
        },
        {
          "name": "_index",
          "type": "number",
          "optional": false,
          "default": null
        }
      ],
      "returnType": "void",
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.setChildIndex(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "setParticleIndex",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "getParticleIndex",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "getChildIndex",
      "params": [
        {
          "name": "_child",
          "type": "ContainerChild",
          "optional": false,
          "default": null
        }
      ],
      "returnType": "number",
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.getChildIndex(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "getParticleIndex",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "addParticleAt",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.addChildAt(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "addParticleAt",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "swapParticles",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.swapChildren(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "swapParticles",
      "params": [],
      "returnType": null,
      "description": null
    },
    {
      "name": "reparentChild",
      "params": [
        {
          "name": "_child",
          "type": "ContainerChild[]",
          "optional": false,
          "default": null
        }
      ],
      "returnType": "any",
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.reparentChild(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    },
    {
      "name": "reparentChildAt",
      "params": [
        {
          "name": "_child",
          "type": "ContainerChild",
          "optional": false,
          "default": null
        },
        {
          "name": "_index",
          "type": "number",
          "optional": false,
          "default": null
        }
      ],
      "returnType": "any",
      "description": null
    },
    {
      "name": "Error",
      "params": [
        {
          "name": "'ParticleContainer.reparentChildAt(",
          "type": null
        }
      ],
      "returnType": null,
      "description": null
    }
  ],
  "properties": []
}